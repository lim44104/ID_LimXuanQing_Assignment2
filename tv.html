<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Jekyll v4.1.1">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <title>XMDB-TV Show</title>

    <!-- Custom styles for this template -->
    <link href="assets/css/style.css" rel="stylesheet">
  </head>

  <body class="single-movie">
    <nav class="navbar navbar-expand-md navbar-dark fixed-top navnav" style="background-color: #222222;">
      <a class="navbar-brand" href="index.html">
          <img class="cover" src="images/logo.png" alt="logo" style="width:80px;height:20px"> 
      </a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
      </button>
  
      <div class="collapse navbar-collapse" id="navbarsExampleDefault">
          <ul class="navbar-nav mr-auto">
          <li class="nav-item">
              <a href="index.html" target="_blank">Home <span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item">
              <a href="searchmovie.html" target="_blank">Movie</a>
          </li>
          <li class="nav-item">
              <a href="searchactor.html" target="_blank">Celeb</a>
          </li>
          <li class="nav-item">
              <a href="searchtv.html" target="_blank">TV Show</a>
          </li>
          <li class="nav-item">
              <a href="contact.html" target="_blank">Contact</a>
          </li>
          </ul>
      </div>
      </nav>

  <h2 id="movieMainTitle">TV Show</h2>
  <div class="card flex-md-row mb-4 box-shadow h-md-250" id="movieCard">
    <div>
      <img class="card-img-right flex-auto d-md-block img-fluid" id="tvImage" alt="Picture of Tv" src="">
    </div>
    <div class="card-body d-flex flex-column align-items-start">
      <h3 class="mb-0" id="tvName"></h3>
      <p class="card-text mb-3" id="tvDescription"></p>
      <p class="card-text mb-3" id="tvDate"></p>
      <p class="card-text mb-3" id="tvSeason"></p>
      <p class="card-text mb-3" id="tvTime"></p>
      <h4 class="card-text mb-3 font-weight-light tstyle" id="tvLine"></h4>
    </div>
  </div>

  <div class="singletv"></div>

  <div class="trailersec">
    <h2>Trailer</h2>
    <div id="testing"></div>
  </div>
  
  <div class="videosec">
    <h2>Video</h2>
    <div id="testing2"></div>
  </div>

  <div id="movieSec"></div>

  

<footer class="container foot">
  <p>&copy; Company 2017-2020</p>
</footer>

<script src="assets/js/api.js"></script>
<script src="assets/js/main2.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script>
  function singletvfunction() {
    var id = sessionStorage.getItem('id');
    getVideosTv(id)
    getVideosTv2(id)
    const path =`/tv/${id}`;
        const url = generateUrl(path);
        fetch(url)
            .then((res) => res.json())
            .then(function(res){
              console.log(res);
              tvName.innerHTML = res.name+ " " + res.vote_average + `<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="#0085ca" class="bi bi-star-fill" viewBox="0 0 16 16">
            <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
          </svg>`;;
              tvDescription.innerHTML = res.overview;
              tvImage.src = imageUrl + res.poster_path;
              document.getElementById("tvDate").innerHTML = "Release Date: " + res.first_air_date;
              document.getElementById("tvSeason").innerHTML = "Seasons: " + res.number_of_seasons;
              document.getElementById("tvTime").innerHTML = "Episodes: " + res.number_of_episodes;
              document.getElementById("tvLine").innerHTML =`"${res.tagline}"`;
            })
            .catch(() => {
                console.log('Error: ',error);
            })
  }

  function similarShows() {
    var id = sessionStorage.getItem('id');
    const path =`/tv/${id}/similar`;
    const url = generateUrl(path);
    requestMovies(url, similarTv, handleError);
}

  singletvfunction()
  similarShows()
</script>
  </body>
</html>